<!--
@game-meta
{
  "id": "chair-game",
  "title": "ì˜ì ì•‰ê¸° ê²Œì„",
  "emoji": "ğŸª‘",
  "category": "ì„œë°”ì´ë²Œ",
  "description": "ìŒì•…ì— ë§ì¶° ì¶¤ì¶”ë‹¤ê°€ ì˜ì ì•‰ê¸°! ë¹ ë¥´ê²Œ ì˜ìë¥¼ ì°¨ì§€í•˜ì§€ ëª»í•œ ì°¸ì—¬ìëŠ” íƒˆë½í•˜ëŠ” ê¸´ì¥ê° ë„˜ì¹˜ëŠ” ì„œë°”ì´ë²Œ ê²Œì„",
  "features": ["ğŸµ ìŒì•…ê³¼ ì¶¤", "ğŸª‘ ì˜ì ê²½ìŸ"],
  "color": "purple",
  "badge": "NEW",
  "version": "1.0.0",
  "updated": "2025-01-16",
  "author": {
    "name": "Euiyun Edwin Kim",
    "email": "geniuskey@gmail.com",
    "github": "geniuskey"
  },
  "urls": {
    "service": "https://geniuskey.github.io/lottery/chair-game/",
    "repository": "https://github.com/geniuskey/lottery"
  },
  "license": "MIT",
  "copyright": "Â© 2025 Euiyun Edwin Kim. Licensed under the MIT License."
}
@end-game-meta
-->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸª‘ ì˜ì ì•‰ê¸° ê²Œì„</title>
    
    <!-- SEO ê¸°ë³¸ -->
    <meta name="description" content="ìŒì•…ì— ë§ì¶° ì¶¤ì¶”ë‹¤ê°€ ì˜ì ì•‰ê¸°! ë¹ ë¥´ê²Œ ì˜ìë¥¼ ì°¨ì§€í•˜ì§€ ëª»í•œ ì°¸ì—¬ìëŠ” íƒˆë½í•˜ëŠ” ê¸´ì¥ê° ë„˜ì¹˜ëŠ” ì„œë°”ì´ë²Œ ê²Œì„">
    <meta name="author" content="Euiyun Edwin Kim">
    <meta name="keywords" content="ì˜ì ì•‰ê¸° ê²Œì„, ì¶”ì²¨, ê²Œì„, lottery, ì„œë°”ì´ë²Œ, íŒŒí‹° ê²Œì„, ë®¤ì§€ì»¬ ì²´ì–´">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ì¶”ì²¨ ê²Œì„ í¬íƒˆ">
    <meta property="og:title" content="ğŸª‘ ì˜ì ì•‰ê¸° ê²Œì„">
    <meta property="og:description" content="ìŒì•…ì— ë§ì¶° ì¶¤ì¶”ë‹¤ê°€ ì˜ì ì•‰ê¸°! ë¹ ë¥´ê²Œ ì˜ìë¥¼ ì°¨ì§€í•˜ì§€ ëª»í•œ ì°¸ì—¬ìëŠ” íƒˆë½í•˜ëŠ” ê¸´ì¥ê° ë„˜ì¹˜ëŠ” ì„œë°”ì´ë²Œ ê²Œì„">
    <meta property="og:url" content="https://geniuskey.github.io/lottery/chair-game/">
    <meta property="og:locale" content="ko_KR">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ğŸª‘ ì˜ì ì•‰ê¸° ê²Œì„">
    <meta name="twitter:description" content="ìŒì•…ì— ë§ì¶° ì¶¤ì¶”ë‹¤ê°€ ì˜ì ì•‰ê¸°! ë¹ ë¥´ê²Œ ì˜ìë¥¼ ì°¨ì§€í•˜ì§€ ëª»í•œ ì°¸ì—¬ìëŠ” íƒˆë½í•˜ëŠ” ê¸´ì¥ê° ë„˜ì¹˜ëŠ” ì„œë°”ì´ë²Œ ê²Œì„">
    
    <!-- ì¶”ê°€ SEO -->
    <link rel="canonical" href="https://geniuskey.github.io/lottery/chair-game/">
    <meta name="robots" content="index, follow">
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            overflow: hidden;
            height: 100vh;
        }

        .container {
            display: flex;
            height: 100vh;
            position: relative;
        }

        /* Sidebar */
        .sidebar {
            width: 320px;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .sidebar-header h1 {
            font-size: 1.5rem;
            font-weight: 900;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .sidebar-header h1 .emoji {
            /* ì´ëª¨ì§€ëŠ” ê¸°ë³¸ ìƒ‰ìƒ ìœ ì§€ */
        }

        .sidebar-header h1 .title-text {
            background: linear-gradient(135deg, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .help-btn {
            background: rgba(168, 85, 247, 0.2);
            border: 1px solid rgba(168, 85, 247, 0.3);
            color: #a855f7;
            width: 24px;
            height: 24px;
            min-width: 24px;
            min-height: 24px;
            max-width: 24px;
            max-height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            padding: 0 !important;
            margin: 0;
            line-height: 1;
            flex-shrink: 0;
            aspect-ratio: 1 / 1;
            overflow: hidden;
            box-sizing: border-box;
        }

        .help-btn:hover {
            background: rgba(168, 85, 247, 0.3);
            transform: scale(1.1);
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-group label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 700;
        }

        textarea, input, select {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            color: #fff;
            font-family: inherit;
            font-size: 0.9rem;
            resize: vertical;
            transition: all 0.3s;
        }

        textarea:focus, input:focus, select:focus {
            outline: none;
            border-color: #a855f7;
            background: rgba(168, 85, 247, 0.1);
        }

        textarea {
            min-height: 100px;
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
        }

        .start-btn {
            background: linear-gradient(135deg, #a855f7, #ec4899);
            color: white;
        }

        .start-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(168, 85, 247, 0.4);
        }

        .start-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .reset-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            flex: 0.3;
        }

        .reset-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .ranking-board {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            flex: 1;
            min-height: 0;
        }

        .ranking-board h3 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: #a855f7;
            flex-shrink: 0;
        }

        .ranking-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            overflow-y: auto;
            flex: 1;
        }

        .ranking-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .ranking-item.winner {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.3), rgba(236, 72, 153, 0.3));
            border: 1px solid rgba(168, 85, 247, 0.5);
        }

        .ranking-item.eliminated {
            opacity: 0.5;
            text-decoration: line-through;
        }

        .sidebar-footer {
            display: flex;
            gap: 8px;
            margin-top: auto;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .icon-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: white;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .icon-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .icon-btn:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 5px;
            padding: 5px 10px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            font-size: 0.75rem;
            white-space: nowrap;
            border-radius: 4px;
            pointer-events: none;
        }

        /* Game Area */
        .game-area {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 20px;
        }

        canvas {
            border-radius: 12px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
            max-width: 100%;
            max-height: 100%;
        }

        .copyright {
            position: absolute;
            bottom: 10px;
            right: 15px;
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.25);
            pointer-events: none;
            user-select: none;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: rgba(26, 26, 46, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-content h2 {
            color: #a855f7;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .modal-content p {
            line-height: 1.6;
            margin-bottom: 15px;
            color: rgba(255, 255, 255, 0.8);
        }

        .modal-close {
            margin-top: 20px;
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #a855f7, #ec4899);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                max-height: 40vh;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .game-area {
                flex: 1;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(168, 85, 247, 0.5);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(168, 85, 247, 0.7);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h1><span class="emoji">ğŸª‘</span> <span class="title-text">ì˜ì ì•‰ê¸° ê²Œì„</span></h1>
                <button class="help-btn" id="helpBtn">?</button>
            </div>

            <div class="input-group">
                <label>ì°¸ì—¬ì (ì½¤ë§ˆë¡œ êµ¬ë¶„)</label>
                <textarea id="participantsInput" placeholder="ì˜ìˆ˜, ì˜í˜¸, ì˜ì‹, ì˜ì² , ê´‘ìˆ˜, ìƒì² ">ì˜ìˆ˜, ì˜í˜¸, ì˜ì‹, ì˜ì² , ê´‘ìˆ˜, ìƒì² </textarea>
            </div>

            <div class="input-group">
                <label>ìµœì¢… ìš°ìŠ¹ì ìˆ˜</label>
                <input type="number" id="winnerCountInput" min="1" max="10" value="1">
            </div>

            <div class="button-group">
                <button class="start-btn" id="startBtn">ğŸ® ì‹œì‘</button>
                <button class="reset-btn" id="resetBtn">â†º</button>
            </div>

            <div class="ranking-board">
                <h3>ğŸ“Š ì‹¤ì‹œê°„ ìƒì¡´ í˜„í™©</h3>
                <div class="ranking-list" id="rankingList">
                    <div style="text-align: center; color: rgba(255,255,255,0.5); padding: 20px;">
                        ê²Œì„ì„ ì‹œì‘í•˜ì„¸ìš”!
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <a href="https://geniuskey.github.io/lottery/" class="icon-btn" data-tooltip="ì¶”ì²¨ í¬íƒˆ í™ˆ">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                </a>
                <button class="icon-btn" id="copyResultBtn" data-tooltip="ê²°ê³¼ ë³µì‚¬">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                </button>
                <a href="https://github.com/geniuskey/lottery" target="_blank" class="icon-btn" data-tooltip="GitHub ì €ì¥ì†Œ">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>
                </a>
                <a href="https://buymeacoffee.com/euiyun" target="_blank" class="icon-btn" data-tooltip="ì»¤í”¼ ì‚¬ì£¼ê¸° â˜•">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20.216 6.415l-.132-.666c-.119-.598-.388-1.163-1.001-1.379-.197-.069-.42-.098-.57-.241-.152-.143-.196-.366-.231-.572-.065-.378-.125-.756-.192-1.133-.057-.325-.102-.69-.25-.987-.195-.4-.597-.634-.996-.788a5.723 5.723 0 00-.626-.194c-1-.263-2.05-.36-3.077-.416a25.834 25.834 0 00-3.7.062c-.915.083-1.88.184-2.75.5-.318.116-.646.256-.888.501-.297.302-.393.77-.177 1.146.154.267.415.456.692.58.36.162.737.284 1.123.366 1.075.238 2.189.331 3.287.37 1.218.05 2.437.01 3.65-.118.299-.033.598-.073.896-.119.352-.054.578-.513.474-.834-.124-.383-.457-.531-.834-.473-.466.074-.96.108-1.382.146-1.177.08-2.358.082-3.536.006a22.228 22.228 0 01-1.157-.107c-.086-.01-.18-.025-.258-.036-.243-.036-.484-.08-.724-.13-.111-.027-.111-.185 0-.212h.005c.277-.06.557-.108.838-.147h.002c.131-.009.263-.032.394-.048a25.076 25.076 0 013.426-.12c.674.019 1.347.067 2.017.144l.228.031c.267.04.533.088.798.145.392.085.895.113 1.07.542.055.137.08.288.111.431l.319 1.484a.237.237 0 01-.199.284h-.003c-.037.006-.075.01-.112.015a36.704 36.704 0 01-4.743.295 37.059 37.059 0 01-4.699-.304c-.14-.017-.293-.042-.417-.06-.326-.048-.649-.108-.973-.161-.393-.065-.768-.032-1.123.161-.29.16-.527.404-.675.701-.154.316-.199.66-.267 1-.069.34-.176.707-.135 1.056.087.753.613 1.365 1.37 1.502a39.69 39.69 0 0011.343.376.483.483 0 01.535.53l-.071.697-1.018 9.907c-.041.41-.047.832-.125 1.237-.122.637-.553 1.028-1.182 1.171-.577.131-1.165.2-1.756.205-.656.004-1.31-.025-1.966-.022-.699.004-1.556-.06-2.095-.58-.475-.458-.54-1.174-.605-1.793l-.731-7.013-.322-3.094c-.037-.351-.286-.695-.678-.678-.336.015-.718.3-.678.679l.228 2.185.949 9.112c.147 1.344 1.174 2.068 2.446 2.272.742.12 1.503.144 2.257.156.966.016 1.942.053 2.892-.122 1.408-.258 2.465-1.198 2.616-2.657.34-3.332.683-6.663 1.024-9.995l.215-2.087a.484.484 0 01.39-.426c.402-.078.787-.212 1.074-.518.455-.488.546-1.124.385-1.766zm-1.478.772c-.145.137-.363.201-.578.233-2.416.359-4.866.54-7.308.46-1.748-.06-3.477-.254-5.207-.498-.17-.024-.353-.055-.47-.18-.22-.236-.111-.71-.054-.995.052-.26.152-.609.463-.646.484-.057 1.046.148 1.526.22.577.088 1.156.159 1.737.212 2.48.226 5.002.19 7.472-.14.45-.06.899-.13 1.345-.21.399-.072.84-.206 1.08.206.166.281.188.657.162.974a.544.544 0 01-.169.364z"></path></svg>
                </a>
            </div>
        </div>

        <!-- Game Area -->
        <div class="game-area">
            <canvas id="gameCanvas"></canvas>
            <div class="copyright">Â© 2025 Euiyun Edwin Kim.</div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <h2>ğŸª‘ ê²Œì„ ë°©ë²•</h2>
            <p><strong>ğŸ¯ ê²Œì„ ëª©í‘œ</strong><br>
            ìŒì•…ì— ë§ì¶° ì¶¤ì¶”ë‹¤ê°€ ì˜ìê°€ ë‚˜íƒ€ë‚˜ë©´ ë¹ ë¥´ê²Œ ì•‰ìœ¼ì„¸ìš”! ì˜ìì— ì•‰ì§€ ëª»í•œ ì°¸ì—¬ìëŠ” íƒˆë½í•©ë‹ˆë‹¤.</p>
            
            <p><strong>ğŸ“– ê²Œì„ ê·œì¹™</strong><br>
            1. ì°¸ì—¬ìë“¤ì´ ìŒí‘œ(â™© â™ª â™« â™¬)ì™€ í•¨ê»˜ ë…¸ë˜í•˜ë©° ëŒì•„ë‹¤ë‹™ë‹ˆë‹¤<br>
            2. ì˜ìê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤ (1ì´ˆê°„ í‘œì‹œ)<br>
            3. "ì˜ì ì•‰ê¸°!" ì‹ í˜¸ì™€ í•¨ê»˜ ê°€ì¥ ê°€ê¹Œìš´ ì˜ìë¡œ ë‹¬ë ¤ê°‘ë‹ˆë‹¤<br>
            4. ì˜ìëŠ” ìƒì¡´ì ìˆ˜ì˜ 70% (ìµœì†Œ 1ê°œ)<br>
            5. ì˜ìì— ì•‰ì§€ ëª»í•œ ì°¸ì—¬ìëŠ” íƒˆë½í•©ë‹ˆë‹¤<br>
            6. ìµœì¢… ìš°ìŠ¹ìê°€ ë‚¨ì„ ë•Œê¹Œì§€ ë°˜ë³µë©ë‹ˆë‹¤</p>
            
            <p><strong>âš™ï¸ ì„¤ì •</strong><br>
            â€¢ ì°¸ì—¬ì: ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥<br>
            â€¢ ìµœì¢… ìš°ìŠ¹ì ìˆ˜: 1~10ëª…ê¹Œì§€ ì„¤ì • ê°€ëŠ¥</p>
            
            <p><strong>ğŸ’¡ ê²Œì„ íŠ¹ì§•</strong><br>
            â€¢ ë¬¼ë¦¬ì—”ì§„: ìºë¦­í„°ë¼ë¦¬ ë¶€ë”ªíˆë©´ ìì—°ìŠ¤ëŸ½ê²Œ íŠ•ê²¨ë‚˜ê°‘ë‹ˆë‹¤<br>
            â€¢ ê³µì •í•œ ê²½ìŸ: ëª¨ë“  ì°¸ê°€ìì˜ ë‹¬ë¦¬ê¸° ì†ë„ê°€ ë™ì¼í•©ë‹ˆë‹¤<br>
            â€¢ ì˜ì ìˆ˜: ìƒì¡´ì Ã— 0.7 (ë°˜ì˜¬ë¦¼, ìµœì†Œ 1ê°œ)<br>
            â€¢ ì˜ˆì‹œ: 10ëª… â†’ ì˜ì 7ê°œ, 5ëª… â†’ ì˜ì 4ê°œ, 2ëª… â†’ ì˜ì 1ê°œ<br>
            â€¢ íƒˆë½ ì—°ì¶œ: íƒˆë½ìëŠ” í™”ë©´ ë°–ìœ¼ë¡œ ë„ë§ê°‘ë‹ˆë‹¤</p>
            
            <button class="modal-close" id="closeModalBtn">í™•ì¸</button>
        </div>
    </div>

    <script>
        // Matter.js ëª¨ë“ˆ
        const { Engine, World, Bodies, Body } = Matter;

        // Canvas ì„¤ì •
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // ë°˜ì‘í˜• ìº”ë²„ìŠ¤ í¬ê¸°
        function resizeCanvas() {
            const container = canvas.parentElement;
            const size = Math.min(container.clientWidth - 40, container.clientHeight - 40, 800);
            canvas.width = size;
            canvas.height = size;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Matter.js ì—”ì§„ ì„¤ì •
        const engine = Engine.create();
        engine.gravity.y = 0;

        // ê²Œì„ ìƒíƒœ
        let gameState = 'idle';
        let participants = [];
        let eliminatedParticipants = [];
        let winnerCount = 1;
        let chairs = [];
        let roundTimer = 0;

        // ì´ëª¨ì§€ í’€
        const emojis = ['ğŸ˜€', 'ğŸ˜', 'ğŸ¥³', 'ğŸ˜Š', 'ğŸ¤—', 'ğŸ˜†', 'ğŸ˜„', 'ğŸ™‚', 'ğŸ˜ƒ', 'ğŸ˜', 'ğŸ¤©', 'ğŸ˜‡', 'ğŸ¥°', 'ğŸ˜', 'ğŸ¤ ', 'ğŸ¥´'];
        const musicNotes = ['â™©', 'â™ª', 'â™«', 'â™¬', 'ğŸµ', 'ğŸ¶'];

        // Chair í´ë˜ìŠ¤
        class Chair {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.occupied = false;
                this.occupiedBy = null;
                this.emoji = 'ğŸª‘';
            }

            draw() {
                ctx.save();
                ctx.font = '50px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                
                if (this.occupied) {
                    ctx.globalAlpha = 0.5;
                }
                
                ctx.fillText(this.emoji, this.x, this.y);
                ctx.restore();
            }
        }

        // Participant í´ë˜ìŠ¤
        class Participant {
            constructor(name) {
                this.name = name;
                this.emoji = emojis[Math.floor(Math.random() * emojis.length)];
                this.eliminated = false;
                this.groupJoined = false;
                this.musicNote = musicNotes[Math.floor(Math.random() * musicNotes.length)];
                this.musicNoteOffset = Math.random() * Math.PI * 2;
                
                const radius = 20;
                const x = Math.random() * (canvas.width - radius * 4) + radius * 2;
                const y = Math.random() * (canvas.height - radius * 4) + radius * 2;
                
                this.body = Bodies.circle(x, y, radius, {
                    restitution: 0.8,
                    friction: 0.1,
                    density: 0.01,
                    label: name
                });
                
                World.add(engine.world, this.body);
                
                const angle = Math.random() * Math.PI * 2;
                const speed = 0.8;
                Body.setVelocity(this.body, {
                    x: Math.cos(angle) * speed,
                    y: Math.sin(angle) * speed
                });
            }

            update() {
                if (this.eliminated) {
                    const centerX = canvas.width / 2;
                    const centerY = canvas.height / 2;
                    const dx = this.body.position.x - centerX;
                    const dy = this.body.position.y - centerY;
                    const angle = Math.atan2(dy, dx);
                    
                    Body.setVelocity(this.body, {
                        x: Math.cos(angle) * 3,
                        y: Math.sin(angle) * 3
                    });
                    return;
                }

                const maxSpeed = 2;

                if (gameState === 'dancing' || gameState === 'chair_wait') {
                    const vel = this.body.velocity;
                    const speed = Math.sqrt(vel.x * vel.x + vel.y * vel.y);
                    
                    if (speed < 0.5) {
                        const angle = Math.random() * Math.PI * 2;
                        Body.setVelocity(this.body, {
                            x: Math.cos(angle) * 0.8,
                            y: Math.sin(angle) * 0.8
                        });
                    }

                    if (speed > maxSpeed) {
                        Body.setVelocity(this.body, {
                            x: (vel.x / speed) * maxSpeed,
                            y: (vel.y / speed) * maxSpeed
                        });
                    }

                    const radius = this.body.circleRadius;
                    if (this.body.position.x < radius) {
                        Body.setPosition(this.body, { x: radius, y: this.body.position.y });
                        Body.setVelocity(this.body, { x: Math.abs(vel.x), y: vel.y });
                    }
                    if (this.body.position.x > canvas.width - radius) {
                        Body.setPosition(this.body, { x: canvas.width - radius, y: this.body.position.y });
                        Body.setVelocity(this.body, { x: -Math.abs(vel.x), y: vel.y });
                    }
                    if (this.body.position.y < radius) {
                        Body.setPosition(this.body, { y: radius, x: this.body.position.x });
                        Body.setVelocity(this.body, { y: Math.abs(vel.y), x: vel.x });
                    }
                    if (this.body.position.y > canvas.height - radius) {
                        Body.setPosition(this.body, { y: canvas.height - radius, x: this.body.position.x });
                        Body.setVelocity(this.body, { y: -Math.abs(vel.y), x: vel.x });
                    }

                    this.musicNoteOffset += 0.1;
                    
                } else if (gameState === 'musical_chairs') {
                    if (!this.groupJoined) {
                        let closestChair = null;
                        let minDist = Infinity;

                        chairs.forEach(chair => {
                            if (chair.occupied) return;
                            
                            const dx = chair.x - this.body.position.x;
                            const dy = chair.y - this.body.position.y;
                            const dist = Math.sqrt(dx * dx + dy * dy);
                            
                            if (dist < minDist) {
                                minDist = dist;
                                closestChair = chair;
                            }
                        });

                        if (closestChair) {
                            const dx = closestChair.x - this.body.position.x;
                            const dy = closestChair.y - this.body.position.y;
                            const dist = Math.sqrt(dx * dx + dy * dy);
                            
                            if (dist > 30) {
                                const speed = 3;
                                Body.setVelocity(this.body, {
                                    x: (dx / dist) * speed,
                                    y: (dy / dist) * speed
                                });
                            }
                            // ì˜ì ì ìœ ëŠ” ë³„ë„ ë¡œì§ì—ì„œ ì²˜ë¦¬
                        }
                    } else {
                        Body.setVelocity(this.body, { x: 0, y: 0 });
                    }
                }
            }

            draw() {
                ctx.save();
                
                const x = this.body.position.x;
                const y = this.body.position.y;
                const opacity = this.eliminated ? 0.3 : 1;

                if ((gameState === 'dancing' || gameState === 'chair_wait') && !this.eliminated) {
                    const noteX = x + Math.cos(this.musicNoteOffset) * 30;
                    const noteY = y - 40 + Math.sin(this.musicNoteOffset) * 10;
                    ctx.font = '20px Arial';
                    ctx.fillStyle = 'rgba(168, 85, 247, 0.8)';
                    ctx.textAlign = 'center';
                    ctx.fillText(this.musicNote, noteX, noteY);
                }

                if (gameState === 'musical_chairs' && this.groupJoined && !this.eliminated) {
                    ctx.strokeStyle = 'rgba(168, 85, 247, 0.8)';
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    ctx.arc(x, y, 25, 0, Math.PI * 2);
                    ctx.stroke();
                }

                ctx.globalAlpha = opacity;
                ctx.font = '40px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(this.emoji, x, y);

                ctx.font = 'bold 14px "Noto Sans KR"';
                ctx.fillStyle = '#fff';
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 3;
                ctx.globalAlpha = opacity;
                ctx.strokeText(this.name, x, y + 35);
                ctx.fillText(this.name, x, y + 35);

                ctx.restore();
            }

            destroy() {
                World.remove(engine.world, this.body);
            }
        }

        // UI ìš”ì†Œ
        const participantsInput = document.getElementById('participantsInput');
        const winnerCountInput = document.getElementById('winnerCountInput');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const rankingList = document.getElementById('rankingList');
        const helpBtn = document.getElementById('helpBtn');
        const helpModal = document.getElementById('helpModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const copyResultBtn = document.getElementById('copyResultBtn');

        // LocalStorage
        function saveSettings() {
            localStorage.setItem('chairGame_participants', participantsInput.value);
            localStorage.setItem('chairGame_winnerCount', winnerCountInput.value);
        }

        function loadSettings() {
            const savedParticipants = localStorage.getItem('chairGame_participants');
            const savedWinnerCount = localStorage.getItem('chairGame_winnerCount');
            if (savedParticipants) participantsInput.value = savedParticipants;
            if (savedWinnerCount) winnerCountInput.value = savedWinnerCount;
        }

        loadSettings();
        participantsInput.addEventListener('input', saveSettings);
        winnerCountInput.addEventListener('input', saveSettings);

        // ë„ì›€ë§ ëª¨ë‹¬
        helpBtn.addEventListener('click', () => {
            helpModal.classList.add('active');
        });

        closeModalBtn.addEventListener('click', () => {
            helpModal.classList.remove('active');
        });

        helpModal.addEventListener('click', (e) => {
            if (e.target === helpModal) {
                helpModal.classList.remove('active');
            }
        });

        // ë­í‚¹ ì—…ë°ì´íŠ¸
        function updateRanking() {
            rankingList.innerHTML = '';
            
            const alive = participants.filter(p => !p.eliminated);
            const dead = participants.filter(p => p.eliminated);

            alive.forEach(p => {
                const item = document.createElement('div');
                item.className = 'ranking-item';
                if (alive.length <= winnerCount) {
                    item.classList.add('winner');
                }
                item.innerHTML = `
                    <span>${p.emoji} ${p.name}</span>
                    <span>ğŸŸ¢ ìƒì¡´</span>
                `;
                rankingList.appendChild(item);
            });

            dead.forEach(p => {
                const item = document.createElement('div');
                item.className = 'ranking-item eliminated';
                item.innerHTML = `
                    <span>${p.emoji} ${p.name}</span>
                    <span>ğŸ’€ íƒˆë½</span>
                `;
                rankingList.appendChild(item);
            });
        }

        // ì˜ì ëŒ€ê¸°
        function startChairWait() {
            gameState = 'chair_wait';
            roundTimer = 0;
            
            const aliveCount = participants.filter(p => !p.eliminated).length;
            let numChairs = Math.round(aliveCount * 0.7);
            numChairs = Math.max(1, numChairs);
            
            // ì˜ìë¥¼ ëœë¤ ìœ„ì¹˜ì— ë°°ì¹˜
            chairs = [];
            const margin = 80; // ë²½ì—ì„œ ë–¨ì–´ì§„ ì—¬ë°±
            
            for (let i = 0; i < numChairs; i++) {
                // ê²¹ì¹˜ì§€ ì•ŠëŠ” ëœë¤ ìœ„ì¹˜ ì°¾ê¸°
                let attempts = 0;
                let validPosition = false;
                let x, y;
                
                while (!validPosition && attempts < 50) {
                    x = Math.random() * (canvas.width - margin * 2) + margin;
                    y = Math.random() * (canvas.height - margin * 2) + margin;
                    
                    // ë‹¤ë¥¸ ì˜ìì™€ ìµœì†Œ ê±°ë¦¬ ì²´í¬
                    validPosition = true;
                    const minDistance = 100;
                    
                    for (let j = 0; j < chairs.length; j++) {
                        const dx = chairs[j].x - x;
                        const dy = chairs[j].y - y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        
                        if (dist < minDistance) {
                            validPosition = false;
                            break;
                        }
                    }
                    
                    attempts++;
                }
                
                chairs.push(new Chair(x, y));
            }
        }

        // ì˜ì ê²Œì„ ì‹œì‘
        function startMusicalChairs() {
            gameState = 'musical_chairs';
            roundTimer = 0;

            const alive = participants.filter(p => !p.eliminated);
            alive.forEach(p => {
                p.groupJoined = false;
            });
        }

        // íƒˆë½ ì²˜ë¦¬
        function eliminateChairPlayers() {
            const alive = participants.filter(p => !p.eliminated);
            alive.forEach(p => {
                if (!p.groupJoined) {
                    p.eliminated = true;
                    eliminatedParticipants.push(p.name);
                }
            });

            chairs = [];
            updateRanking();

            const remainingCount = participants.filter(p => !p.eliminated).length;
            
            if (remainingCount <= winnerCount) {
                gameState = 'idle';
                startBtn.disabled = false;
                setTimeout(showWinners, 1000);
            } else {
                gameState = 'dancing';
                roundTimer = 0;
            }
        }

        // ìš°ìŠ¹ì í‘œì‹œ
        function showWinners() {
            const winners = participants.filter(p => !p.eliminated);
            
            ctx.save();
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.font = 'bold 48px "Noto Sans KR"';
            ctx.fillStyle = '#a855f7';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('ğŸ† ìš°ìŠ¹ì', canvas.width / 2, canvas.height / 3);

            ctx.font = 'bold 36px "Noto Sans KR"';
            ctx.fillStyle = '#fff';
            const startY = canvas.height / 2;
            winners.forEach((winner, i) => {
                ctx.fillText(`${winner.emoji} ${winner.name}`, canvas.width / 2, startY + i * 50);
            });

            ctx.restore();
        }

        // ê²Œì„ ë£¨í”„
        function gameLoop() {
            Engine.update(engine, 1000 / 60);
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const gradient = ctx.createRadialGradient(canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width / 2);
            gradient.addColorStop(0, '#1a1a2e');
            gradient.addColorStop(1, '#0f0f1e');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            if (gameState === 'chair_wait' || gameState === 'musical_chairs') {
                chairs.forEach(chair => chair.draw());
            }

            participants.forEach(p => {
                p.update();
                p.draw();
            });

            // ì˜ì ê²Œì„ ì¤‘ ì˜ì ë°°ì • ì²˜ë¦¬ (ê²½ìŸ ì¡°ê±´ ë°©ì§€)
            if (gameState === 'musical_chairs') {
                // ê° ì˜ìë³„ë¡œ ê°€ì¥ ê°€ê¹Œìš´ ì°¸ì—¬ì ì°¾ê¸°
                chairs.forEach(chair => {
                    if (chair.occupied) return;
                    
                    let closestParticipant = null;
                    let minDist = 30; // 30 ì´ë‚´ì— ìˆì–´ì•¼ ì•‰ì„ ìˆ˜ ìˆìŒ
                    
                    participants.forEach(p => {
                        if (p.eliminated || p.groupJoined) return;
                        
                        const dx = chair.x - p.body.position.x;
                        const dy = chair.y - p.body.position.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        
                        if (dist < minDist) {
                            minDist = dist;
                            closestParticipant = p;
                        }
                    });
                    
                    // ê°€ì¥ ê°€ê¹Œìš´ ì‚¬ëŒì´ ì˜ì ì°¨ì§€
                    if (closestParticipant) {
                        chair.occupied = true;
                        chair.occupiedBy = closestParticipant;
                        closestParticipant.groupJoined = true;
                        Body.setVelocity(closestParticipant.body, { x: 0, y: 0 });
                        Body.setPosition(closestParticipant.body, { x: chair.x, y: chair.y });
                    }
                });
            }

            if (gameState === 'musical_chairs') {
                ctx.save();
                ctx.font = 'bold 80px "Noto Sans KR"';
                ctx.fillStyle = '#fff';
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 5;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.strokeText('ì˜ì ì•‰ê¸°!', canvas.width / 2, canvas.height / 2);
                ctx.fillText('ì˜ì ì•‰ê¸°!', canvas.width / 2, canvas.height / 2);
                ctx.restore();
            }

            roundTimer++;

            if (gameState === 'dancing' && roundTimer > 360) {
                startChairWait();
            } else if (gameState === 'chair_wait' && roundTimer > 60) {
                startMusicalChairs();
            } else if (gameState === 'musical_chairs' && roundTimer > 300) {
                eliminateChairPlayers();
            }

            if (gameState !== 'idle') {
                requestAnimationFrame(gameLoop);
            }
        }

        // ê²Œì„ ì‹œì‘
        startBtn.addEventListener('click', () => {
            const names = participantsInput.value.split(',').map(n => n.trim()).filter(n => n);
            winnerCount = parseInt(winnerCountInput.value);

            if (names.length < 2) {
                alert('ì°¸ì—¬ìê°€ ìµœì†Œ 2ëª… ì´ìƒ í•„ìš”í•©ë‹ˆë‹¤!');
                return;
            }

            if (winnerCount >= names.length) {
                alert('ìš°ìŠ¹ì ìˆ˜ëŠ” ì°¸ì—¬ì ìˆ˜ë³´ë‹¤ ì‘ì•„ì•¼ í•©ë‹ˆë‹¤!');
                return;
            }

            participants.forEach(p => p.destroy());
            
            participants = names.map(name => new Participant(name));
            eliminatedParticipants = [];
            gameState = 'dancing';
            roundTimer = 0;
            startBtn.disabled = true;
            updateRanking();
            gameLoop();
        });

        // ì´ˆê¸°í™”
        resetBtn.addEventListener('click', () => {
            gameState = 'idle';
            participants.forEach(p => p.destroy());
            participants = [];
            eliminatedParticipants = [];
            chairs = [];
            startBtn.disabled = false;
            rankingList.innerHTML = '<div style="text-align: center; color: rgba(255,255,255,0.5); padding: 20px;">ê²Œì„ì„ ì‹œì‘í•˜ì„¸ìš”!</div>';
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const gradient = ctx.createRadialGradient(canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width / 2);
            gradient.addColorStop(0, '#1a1a2e');
            gradient.addColorStop(1, '#0f0f1e');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        });

        // ê²°ê³¼ ë³µì‚¬
        copyResultBtn.addEventListener('click', () => {
            if (participants.length === 0) {
                alert('ê²Œì„ì„ ë¨¼ì € ì§„í–‰í•´ì£¼ì„¸ìš”!');
                return;
            }

            const winners = participants.filter(p => !p.eliminated);
            let result = 'ğŸª‘ ì˜ì ì•‰ê¸° ê²Œì„ ê²°ê³¼\n\n';
            result += 'ğŸ† ìš°ìŠ¹ì:\n';
            winners.forEach((w, i) => {
                result += `${i + 1}. ${w.emoji} ${w.name}\n`;
            });
            
            if (eliminatedParticipants.length > 0) {
                result += '\nğŸ’€ íƒˆë½ì:\n';
                eliminatedParticipants.forEach((name, i) => {
                    result += `${i + 1}. ${name}\n`;
                });
            }

            navigator.clipboard.writeText(result).then(() => {
                const originalText = copyResultBtn.innerHTML;
                copyResultBtn.innerHTML = '<span style="color: #a855f7;">âœ“</span>';
                setTimeout(() => {
                    copyResultBtn.innerHTML = originalText;
                }, 1000);
            });
        });

        // ì´ˆê¸° í™”ë©´
        resetBtn.click();
    </script>
</body>
</html>
